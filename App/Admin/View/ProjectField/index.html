<include file="Public:_header" />
<script type="text/javascript" src="__PUBLIC__/js/artDialog/artDialog.js?skin=aero"></script>
<script type="text/javascript" src="__PUBLIC__/js/artDialog/plugins/iframeTools.source.js"></script>

<div class="con_fr ">
	<div class="con_fr_title">
		<span class="icon_bg_7"><i class=" icon icon_7"></i></span>
		<a href="__APP__/Admin/Project/index">专题列表</a> > <a href="__APP__/Admin/ProjectField/">字段列表</a> <if condition = "$project_id neq ''" > > <span><php>echo '「'.D("Project")->getValByProjectId($project_id).'」';</php>字段列表</span> </if>
	</div>
   
  	<div class="con_fr_des">
		<div class="con_fr_col clearfix">
			<div class="con_fr_btn fl clearfix">
                <a href="javascript:void(0);" onclick='addField("{$project_id}")' class="search_ad_btn"><span>添加字段</span></a>
			</div>
            <!-- 分页 -->
            <div class="page fr" id="page">{$show}</div>
			<!-- 分页 end-->  
        </div>
        <!-------- 广告列表start -------->
        <div class="con_fr_list"> 
    		<table id="" class="user_table" width="100%" cellspacing="0" cellpadding="0" border="0">
    			<thead>
    				<tr>
                        <th class="line_l" style="width:3%">ID</th>
                        <th class="line_l" style="width:10%">专题名称</th>
                        <th class="line_l" style="width:5%">字段名称</th>
                        <th class="line_l" style="width:5%">字段类型</th>
                        <th class="line_l" style="width:20%">选项内容</th>
                        <th class="line_l" style="width:5%">是否必填</th>
                        <th class="line_l" style="width:10%">是否作为搜索条件</th>
                        <th class="line_l" style="width:10%">是否单独显示</th>
                        <th class="line_l" style="width:7%">创建时间</th>
						<th class="line_l" style="width:7%">字段说明</th>
                        <th class="line_l" style="width:5%">状态</th>
                        <th class="line_l" style="width:20%">操作</th>
                    </tr>
    			</thead>
                <tbody>
                    <php>
                        $trstyle = 1;
                    </php>
                    <volist id="vo" name="project_field_list">
                        <if condition = "($trstyle % 2) eq 1">
                        <tr overstyle='on' id="idea_{$vo.id}" class="table_odd">
                        <else />
                        <tr overstyle='on' id="idea_{$vo.id}" class="table_even">
                        </if>
                            <td>{$vo.id}</td>
                            <td><php>echo D("Project")->getValByProjectId($vo['project_id']);</php></td>
                            <td>{$vo.field_name}</td>
                            <td><php>echo D("ProjectField")->getWidgetValByKey($vo["widget"]);</php></td>
                            <td><empty name="vo.options">----<else />{$vo.options|unserialize|join=',', ###}</empty></td>
                            <td><eq name="vo.is_must" value="1">
                                <img src="__PUBLIC__/images/yes.gif" alt="点击切换状态" <if condition="$vo.options neq 'system'"> onclick="change({$vo.id}, 'is_must', 0, this)" </if> />
                                <else/>
                                <img src="__PUBLIC__/images/no.gif" alt="点击切换状态" <if condition="$vo.options neq 'system'"> onclick="change({$vo.id}, 'is_must', 1, this)" </if> />
                                </eq>
                            </td>
                            <td>
                                <eq name="vo.is_search" value="1">
                                    <img src="__PUBLIC__/images/yes.gif" alt="点击切换状态" onclick="change({$vo.id}, 'is_search', 0, this)"/>
                                    <else/>
                                    <php>if( in_array( D("ProjectField")->getFieldById($vo['id'], 'widget'), D("ProjectField")->getWidgetNoIsSearch() ) ){</php>
                                    ----
                                    <php>}else{</php>
                                    <img src="__PUBLIC__/images/no.gif" alt="点击切换状态"  onclick="change({$vo.id}, 'is_search', 1, this)"/>
                                    <php>}</php>
                                </eq>
                            </td>
                            <td>
                                <eq name="vo.is_individual" value="1">
                                    <img src="__PUBLIC__/images/yes.gif" alt="点击切换状态" <if condition="$vo.options neq 'system'">  onclick="change({$vo.id}, 'is_individual', 0, this)" </if> />
                                    <else/>
                                    <img src="__PUBLIC__/images/no.gif" alt="点击切换状态" <if condition="$vo.options neq 'system'"> onclick="change({$vo.id}, 'is_individual', 1, this)" </if> />
                                </eq>
                            </td>
                            <td>{$vo.create_time}</td>
							 <td>{$vo.comment}</td>
                            <td>
                                <eq name="vo.status" value="1">
                                    <img src="__PUBLIC__/images/yes.gif" alt="点击切换状态" <if condition="$vo.options neq 'system'"> onclick="change({$vo.id}, 'status', 0, this)" </if> />
                                    <else/>
                                    <img src="__PUBLIC__/images/no.gif" alt="点击切换状态" <if condition="$vo.options neq 'system'"> onclick="change({$vo.id}, 'status', 1, this)" </if> />
                                </eq>
                            </td>
                            <td>
                                <a href="javascript:void(0);" onclick="moveUp('{$vo.id}', this);" sortNo="{$vo.sort_no}" id="{$vo.id}" class="table_btn_screen">上移</a>
                                <a href="javascript:void(0);" onclick="moveDown('{$vo.id}', this);" sortNo="{$vo.sort_no}" id="{$vo.id}" class="table_btn_yellow">下移</a>
                                <if condition="$vo.options neq 'system'">
                                    <a href="javascript:void(0);" onclick="editField('{$vo.id}', '{$vo.project_id}');" class="table_btn_blue">编辑</a>
                                    <a href="javascript:void(0);" onclick="delIdea('{$vo.id}');" class="table_btn_red">删除</a>
                                </if>
                            </td>
                        </tr>
                        <php> ++ $trstyle;</php>
                    </volist>
                </tbody>
            </table>
       </div>
       <!-------- 广告列表end -------->
    </div>
</div>
<script>
    //鼠标移动表格效果
    $(document).ready(function () {
        $("tr[overstyle='on']").hover(
            function () {
                $(this).addClass("bg_hover");
            },
            function () {
                $(this).removeClass("bg_hover");
            }
        );
    });


    function delIdea(id) {
        if (!confirm('确认删除该数据吗？')) {
            return false;
        }
        $.get('__APP__/Admin/ProjectField/delByIdAjax', {id: id}, function (data) {
            if (data) {
                $("#idea_" + id).remove();
            }
        })
    }

    function change(id, field, val, obj){
        $.get('__APP__/Admin/ProjectField/changeValAjax', {id: id, field: field, val: val}, function(data){
            if(data == 1){
                if(val == 0){
                    $(obj).attr('src', '__PUBLIC__/images/no.gif');
                    $(obj).attr('onclick', 'change(' + id + ', "' + field + '", 1, this)');
                }
                if(val == 1){
                    $(obj).attr('src', '__PUBLIC__/images/yes.gif');
                    $(obj).attr('onclick', 'change(' + id + ', "' + field +  '", 0, this)');
                }
            }
        })
    }

</script>
<script>
    function addField(id){
        art.dialog.open('/Admin/ProjectField/add/project_id/' + id, {
            title: '提示',
            width: 500,
            height: 300,
            opacity:0.6,
            ok: function(){
                var iframe = this.iframe.contentWindow;
                if(!iframe.document.body){
                    alert('页面还没加载完成！');
                    return false;
                }

                var form = iframe.document.getElementById('add_field_form'),
                        filedName = iframe.document.getElementById('field_name');
                if(check(filedName)){
                    if(form.submit()){
                        return false;
                    }
                }
                return false;
            },
            cancel: true
        }).lock();
    }

    function check(obj){
        if(obj.value === ''){
            $(obj).next().html('<span style="color: red">* 请填写字段名称！</span>');
            return false;
        }else{
            $(obj).next().html('');
            return true;
        }
    }

    function editField(id, project_id){
        art.dialog.open('__URL__/edit?id=' + id + '&project_id=' + project_id, {
            title: '提示',
            width: 500,
            ok: function(){
                var iframe = this.iframe.contentWindow;
                if(!iframe.document.body){
                    alert('页面还没加载完成！');
                    return false;
                }

                var form = iframe.document.getElementById('edit_field_form'),
                        filedName = iframe.document.getElementById('field_name');
                if(check(filedName)){
                    if(form.submit()){
                        art.dialog({
                            time: 2,
                            content: '修改成功！'
                        });
                    }
                }
                return false;
            }
        });
    }

    function moveUp(id, obj) {
        var sortNo = $(obj).attr('sortNo');
        var prevSortNo = $("#idea_" + id).prev().find('[sortNo]').attr('sortNo');
        var prevID = $("#idea_" + id).prev().find('[sortNo]').attr('id');

        if (prevSortNo == null){
            alert('已位于最顶部，不能上移！');
            return;
        }

        $.get('__APP__/Admin/ProjectField/moveUp', {id: id, sortNo: sortNo, prevID: prevID, prevSortNo: prevSortNo}, function (data) {
            if (data.errno == '1') {
                $("#idea_" + id).prev().find('[sortNo]').attr('sortNo', sortNo);
                $("#idea_" + id).find('[sortNo]').attr('sortNo', prevSortNo);
                $("#idea_" + id).insertBefore($(obj).parents('tr').prev());
            } else {
                alert('移动失败！');
            }
        }, 'json')

    }

    function moveDown(id, obj) {
        var sortNo = $(obj).attr('sortNo');
        var nextSortNo = $("#idea_" + id).next().find('[sortNo]').attr('sortNo');
        var nextID = $("#idea_" + id).next().find('[sortNo]').attr('id');

        if (nextSortNo == null){
            alert('已位于最底部，不能下移！');
            return;
        }

        $.get('__APP__/Admin/ProjectField/moveDown', {id: id, sortNo: sortNo, nextID: nextID, nextSortNo: nextSortNo}, function (data) {
            if (data.errno == '1') {
                $("#idea_" + id).next().find('[sortNo]').attr('sortNo', sortNo);
                $("#idea_" + id).find('[sortNo]').attr('sortNo', nextSortNo);
                $("#idea_" + id).insertAfter($(obj).parents('tr').next());
            } else {
                alert(data.errno);
            }
        }, 'json')

    }

</script>
<include file="Public:_footer" />                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  