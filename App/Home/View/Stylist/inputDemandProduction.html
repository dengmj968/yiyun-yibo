<include file="Public:header" />
<include file="Public:top" />
<script type="text/javascript" src="__PUBLIC__/js/uploadify/jquery.uploadifynew.v2.1.4.min.js"></script>
<script type="text/javascript" src="__PUBLIC__/js/uploadify/swfobject.js"></script>
<link href="__PUBLIC__/js/uploadify/uploadify.css" rel="stylesheet" type="text/css">
<style type="text/css">
	.m_demand_title3{width:70px;}
	.stylist_discuss_textarea_chu4{color:#999;left: 10px;position: absolute;top: 5px;}
    .stylist_discuss_textarea_error2{color: #ff7200;left: 10px;position: absolute;top: 5px;}
    .stylist_discuss_textarea_error3{color: #999;left: 10px;position: absolute;top: 5px;}
</style>
	<div class="g_demand" id="g_demand">
		<div class="m_upload_down clearfix">
			<div class="m_demand_l fl">
				<div style="padding-right:20px;">
					<h3 class="m_demand_h3">{$demandInfo.title}</h3>                    
					<div class="m_demand_pro_spanbox clearfix" style="margin-bottom:10px;margin-right:0;">
						<span class="m_demand_pro_span1">悬赏: <i>{$demandInfo.score} 积分</i></span>
						<span class="m_demand_pro_span2">发布方：<i><a href="{$deploy[CENTER_SERVER]}/Home/HomePage/index/uid/{$demandInfo.uid}">{$demandInfo.username}</a></i></span>
						<span class="fr">{$demandInfo.create_time}</span> 
					</div>					
					<div class="m_demand_box clearfix" style="margin-bottom:10px;">
						<label for="" class="m_upload_title m_demand_title3">作品尺寸：</label>						
						<div class="m_demand_pro_detail1 fl">
							<volist name="sizeList" id="vo">
								<span>{$vo.size_name}</span>
							</volist>
						</div>
					</div>
					<div class="m_demand_box clearfix" style="margin-bottom:10px;">
						<label for="" class="m_upload_title m_demand_title3">需求描述：</label>						
						<p class="m_demand_pro_detail2 fl" >
							{$demandInfo.desc}
						</p>
					</div>
                    <if condition="$demandInfo[file] neq '' AND $isFalse neq 1 AND $isHave eq 0">
					<div class="m_demand_box clearfix" >
						<label for="" class="m_upload_title m_demand_title3">下载素材：</label>						
						<a class="m_demand_pro_btn1" href="/Home/Stylist/downDemand/file/{$demandInfo.file}">下载素材</a>
					</div>
                    </if>
				</div>
                <if condition = "$isFalse neq 1 AND $isHave eq 0">
				<form action="/Home/Stylist/saveDemandProduction/" name="demandProduction" method="post">
                <input type="hidden" name="size_id" value="{$demandInfo.size_id}" id="size_id"/>
                <input type="hidden" name="demand_id" value="{$demandInfo.id}" id="demand_id"/>
                <input type="hidden" name="title" value="{$demandInfo.title}"/>
				<div class="m_demand_l_form m_demand_pro_form" style="padding:0;">
					<div class="m_demand_box clearfix">
						<div class="m_demand_pro_box fl">
							<div id="" class="m_demand_txtarea1" style="position:relative;zoom:1;">
								<textarea name="desc" id="desc" placeholder=""   onkeyup="removeTips(1);" onblur="removeTips(2);"></textarea>
                                <p class="stylist_discuss_textarea_chu4" style="display:;">请输入您的创作思路和设计理念</p>
							</div>
							<div class="m_demand_putbtn_box clearfix"  style="margin-left:10px;">
                                <div id="pic">
                                </div>							
								<input class="m_demand_putbtn2" id='file_upload' value=""/>
                                <input type="hidden" class="f_btn_photo" id='is_upload' value="" />
							</div>
						</div>
					</div>
				</div>
                <!-- <div class="m_upload_box clearfix">
                    
                    <div class="m_agree_box fl">
                        <input class="u_agree_checkbox" type="checkbox" id="checkAcc" name="checkAcc" value="1" />
                        同意<a href="javascript:;">《版权所有协议》</a>
                    </div>
                </div> -->
				<div class=" stylist_discuss_add3 clearfix" style="padding-top:0;margin-right:20px;">
                    <div class="m_agree_box fl clearfix">
                        <input class="u_agree_checkbox fl" type="checkbox" id="checkAcc" name="checkAcc" checked="checked" value="1" />
                        同意<a href="__APP__/Stylist/copyright" target="_blank">《版权所有协议》</a>
                    </div>
					<a class="stylist_discuss_add_btn3" class="fr" href="javascript:;" onclick="checkSub();">提交作品</a>
				</div>
				</form>
                <else />
                <div class="m_demand_l_form m_demand_pro_form" style="padding:0;">
					<div class="m_demand_box clearfix">
						<div class="m_demand_pro_box fl">
							<div id="" class="m_demand_txtarea1" style="position:relative;zoom:1;">
								<div style="height:80px;"></div>
                                <if condition="$isHave eq 0">
                                <p class="stylist_discuss_textarea_error2" style=" display:;">亲，只有设计师身份才能上传作品哟~</p>
                                <else />
                                <p class="stylist_discuss_textarea_error2" style=" display:;">该需求已经解决</p>
                                </if>
                                
							</div>
							<div class="m_demand_putbtn_box clearfix"  style="margin-left:10px;">
                                <div id="pic">
                                </div>							
								<a class="m_demand_putbtn3" href="javascript:void(0);"></a>
                                <input type="hidden" class="f_btn_photo" id='is_upload' value="" />
							</div>
						</div>
					</div>
				</div>
                <div class=" stylist_discuss_add3 clearfix" style="padding-top:0;margin-right:20px;">
					<span class="stylist_discuss_add_btn4 stylist_discuss_add_btn" class="fr" href="javascript:;">提交作品</span>
				</div>                
                </if>
                
            <notempty name="data">
			<div class="stylist_discuss m_buy_pro_show">
				<h2 class="stylist_discuss_title">全部作品</h2>
				<div class="stylist_discuss_list clearfix">
					<div class="discuss_part clearfix">						
                        <volist name="data" id="vo">
                        <div class="user_photo">
							<a href="{$deploy[CENTER_SERVER]}/Home/HomePage/index/uid/{$vo.uid}"><img src="{$vo.userPic}" width="48" height="48" /></a>
						</div>
                        <div class="discuss_con">
							<h3><a href="{$deploy[CENTER_SERVER]}/Home/HomePage/index/uid/{$vo.uid}">{$vo.username}</a>              
                            <if condition = "$isHave gt 0">
                                <if condition = "$vo.accept eq 1"><a class="discuss_con_adoptbtn1" href="javascript:void(0);">被采纳</a></if>
                            <else />
                                <if condition="$userInfo['id'] eq $demandInfo[uid]">
                                    <a class="discuss_con_adoptbtn1" id="accept" href="javascript:void(0);" onclick="byAccept({$vo.uid},{$vo.demand_id});">采纳</a>
                                </if>
                            </if>
                            <span>{$vo.create_time}</span></h3>
							<p>{$vo.desc}</p>
							<div class="m_demand_putbtn_box clearfix">
                            <php> $datauid  = D("AdLinkDemand")->getAdByDemandList(array('ald.user_id'=>$vo[uid],'ald.demand_id'=>$vo['demand_id']), '', 'ald.id ASC'); </php>
                            <volist name="datauid" id="volist">
                                <div class="m_demand_imgbox2 fl">
									<img class="m_demand_imgbig" id="bigImg{$volist.id}" src="{$volist.pic}" />
									<img class="m_demand_putbtn_img" id="putImg{$volist.id}" src="{$volist.pic}" width="100" height="100" onmousemove="changePic({$volist.id});" onmouseout="$('#bigImg'+{$volist.id}).fadeOut();" />										
								</div>
                            </volist>								
							</div>
						</div>
                        </volist>
					</div>
				</div>
				<if condition="$count gt 0">
                	<div class="clearfix"> 
						<div class="clearfix m_page_stylist fr"> 
							{$page}
						</div>
					</div>
                <else />
                <div class="clearfix"> 
					<!-- <center>暂无数据</center> -->
				</div>
                </if>
		     </div>
            </notempty>
		</div>
            <div class="m_upload_down_r fr">
				<div class="m_upload_down_r_title clearfix">最新需求<a class="fr" href="/Home/Stylist/demandList" target="_blank">查看全部</a></div>
				<div class="m_upload_down_list">
					<ul>
                        <volist name="demandList" id="vo">
						<li><a href="/Home/Stylist/inputDemandProduction/id/{$vo.id}" target="_blank" title="{$vo.title}">{$vo.title|msubstr=0,15}</a><span><i>{$vo.num}</i>个回复</span></li>
						</volist>
					</ul>
				</div>
			</div>
		</div>      
	</div>      
<include file="Public:footer2" />
<script type="text/javascript">

	/*图片上传start*/
    $(document).ready(function() {
        $('#file_upload').uploadify({            
            'uploader'   : '__PUBLIC__/js/uploadify/uploadify.swf',
            'script'     : '__APP__/Admin/Public/uploadLogo/',
            'scriptData' : { 'folderName': 'production'},
            'cancelImg'  : '__PUBLIC__/js/uploadify/cancel.png',
            'folder'     : '__PUBLIC__/upload/production/',
            'auto'       : true,
            'multi'      : true,
            'displayData': 'percentage',
            'fileDesc'   : "请选择jpg,gif,png,jpeg,rar类型文件",
            'fileExt'    : '*.jpg;*.gif;*.png;*.jpeg;*.rar',
            'method'     : "POST",
            'buttonImg'   : '__PUBLIC__/images/stylist/stylist_pic26.png',
            //'buttonImg'  : '__PUBLIC__/images/stylist/stylist_pic09.png',
            'fileDataName'   : "adPic",
            'onComplete':function(event,queueId,fileObj,response,data){
                if(response==0){
                    art.dialog({
                        title: '提示',
                        time: 2,
                        icon: 'warning',
                        content: '上传失败，请重试'
                    }).lock();
                }else{                    
                    var img = new Image();
                    img.src = response;
                    img.onload = function(){
                        var demand_id = $("#demand_id").val();
                        var isHave = null;
                        $.get('__APP__/Home/Stylist/demandPicSize',{demandId: demand_id}, function(data){
                            if(data){
                                var sizeobj = eval(data);
                                for(var i = 0; i < sizeobj.length; i++){
                                    if((sizeobj[i].width == img.width) && (sizeobj[i].height == img.height)){
                                        isHave = "yes";
                                    }
                                }

                                var imgSize = img.width + ' x ' + img.height;
                                if(isHave == 'yes'){
                                    var pic = '<div class="m_demand_imgbox2 fl"><img class="m_demand_putbtn_img" src="'+ response +'" width="100" height="100" />'+
                                              '<img class="m_demand_imgbtn2" src="/Public/images/stylist/stylist_pic27.png" onclick="delPic(this);" />'+
                                              '<input type="hidden" id="uploadPic" name="img[]" value="' + response + '"/></div>';
                                    $('#is_upload').val('1');
                                    $('#pic').append(pic);
                                }
                                if(isHave == null){
                                    alert('图片尺寸为：' + imgSize + '，不符合广告尺寸，上传失败！');
                                }
                                isHave = null;
                            }
                        })
                    }
                    /******************************************************/
                }
            }
        });
    });	
	/*图片上传end*/

    //删除图片    
    function delPic(obj){
        $(obj).parent('div').remove();
        if ($("#uploadPic").length <= 0) {
            $("#is_upload").val('');
        }
    }
    
    
    //图片放大
    function changePic(id){
        var img = new Image();
        img.src =$("#putImg"+id).attr("src");
        var oHeight = -(img.height + 4);    
        $("#bigImg"+id).css('top',oHeight+'px').fadeIn('slow');
    }
    //协议选择
    function checkAccept(){
        var checkAcc = document.getElementById("checkAcc").checked;
        if(checkAcc != true){
            alert('请仔细查看协议，并选择！');
            return false;
        }else{
            return true;    
        }
    }
    
    //提交
    function checkSub(){
        if(trim($('#desc').val()) == ''){ 
            removeTips(2);
            return false;
        }else if(trim($('#desc').val()).length >= 150){
            alert("作品描述长度不能超过150");
            return false;
        }
        if($("#uploadPic").length <= 0){ 
           alert('请上传作品！')
           return false;
        }
        if(checkAccept()){
            document.forms.demandProduction.submit();
        }
    }
    
    //采纳
    function byAccept(uid,demandId){
        $.get('__APP__/Home/Stylist/byAccept',{uid:uid,demandId:demandId}, function(data){
            if(data){
                 data = jQuery.parseJSON(data);
                 if(data.status != 3){
                    alert(data.msg);
                    location.reload();
                 }else{
                    window.location.href="__APP__/Home/Stylist/addDemandProduction/demandId/"+demandId;
                 }
            }
        });
    }
    
    function removeTips(id){
    	var val =trim($('#desc').val());
    	if(id == 1){
    		if(val.length == 0){
                $(".m_demand_pro_box").addClass('stylist_discuss_textarea_error');
    			//$(".m_demand_txtarea1").addClass('stylist_discuss_textarea_error');
                $('#desc').val('');
                $('.stylist_discuss_textarea_chu4').addClass('stylist_discuss_textarea_error2');
    			$('.stylist_discuss_textarea_error2').text('亲，请输入您的创作思路和设计理念');
    			$('.stylist_discuss_textarea_error2').show();
    		}else{
                $(".m_demand_pro_box").removeClass('stylist_discuss_textarea_error');
    			// $(".m_demand_txtarea1").removeClass('stylist_discuss_textarea_error');
    			$('.stylist_discuss_textarea_chu4').text('');
    			$('.stylist_discuss_textarea_chu4').hide();
    		}
    	}else if(id == 2){
    		if(val.length == 0){    		  
               // $(".m_demand_txtarea1").addClass('stylist_discuss_textarea_error');
    			$(".m_demand_pro_box").addClass('stylist_discuss_textarea_error');
                $('#desc').val('');
                $('.stylist_discuss_textarea_chu4').addClass('stylist_discuss_textarea_error2');
    			$('.stylist_discuss_textarea_error2').text('亲，请输入您的创作思路和设计理念');
    			$('.stylist_discuss_textarea_error2').show();
    		}
    	}
    }
    
    //过滤空格
    function trim(str){
    	return str.replace(/(^\s*)|(\s*$)/g, "");
    }

//控制底部
    function test(){ 
        var infoHeight = document.getElementById("g_demand").scrollHeight +140; 
        var bottomHeight = document.getElementById("bottom").scrollHeight; 
        var allHeight = document.documentElement.clientHeight; 
        var bottom = document.getElementById("bottom");
// console.log(infoHeight);
        if((infoHeight + bottomHeight) < allHeight){ 
            bottom.style.position = "fixed"; 
            bottom.style.bottom = "0"; 
        }else{ 
            bottom.style.position = ""; 
            bottom.style.bottom = ""; 
        }  

        setTimeout(function(){test();},10); 
    } 
    test();     


</script>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  