<include file="Public:header" />
<include file="Public:top" />
<script type="text/javascript" src="__PUBLIC__/js/uploadify/jquery.uploadify.v2.1.4.min.js"></script>
<script type="text/javascript" src="__PUBLIC__/js/uploadify/swfobject.js"></script>
<link href="__PUBLIC__/js/uploadify/uploadify.css" rel="stylesheet" type="text/css">
<style>
.cancel a{ background:none; width:auto; height:auto;}
#scoreNotice{ padding-left:35px;}
#showScoreRule{color: #63b4d2; cursor:pointer;}
.m_upload_down_form{margin-bottom:0; border: 0;}
.m_stylist_buy_btn{border-top: 1px dashed #eee; padding-top:30px; margin-right: 20px;}

</style>
<if condition="$isGroup eq ''">
<div class="g_upload_down_mask" style="height:1333px;">
    <div class="g_upload_mask_content">
        <a href="javascript:;" onclick="history.go(-1);" class="g_upload_mask_close"> </a>
        <p class="g_upload_des">您还未认证，只有认证身份才可发布需求！</p>
        <a class="u_gotoapprove" href="{$deploy[CENTER_SERVER]}/Home/Index/userOrgApply/">去认证</a>
    </div>
</div>
</if>

	<!-- banner -->
	<div class="g_stylist_demandbanner" <if condition="$banner neq false">style="background:url({$banner.pic}) center no-repeat;"</if>>
		<div class="m_stylist_demandbanner">
			<h1>发布设计需求，积分换取作品</h1>
			<p>听说这里有一大波设计师，从此不愁公益宣传丑丑的</p>
		</div>
	</div>
	<!-- banner end -->
	<div class="g_demand g_demand2">
		<div class="m_upload_down clearfix">
			<div class="m_demand_l fl">
				<h3 class="m_demand_h3">请输入您的需求</h3>
				<form action="/Home/Demand/saveAdd" method="post" id="demandForm">
					<div class="m_demand_l_form" style="padding-top:0; ">
						<div class="m_demand_box clearfix">							
							<div id="" class="m_demand_input1">
								<input name="title" id="title" placeholder="标题：例如**机构需要**广告设计" value="" type="text" />
							</div>
							<a class="map_judge_right" id="title_right" style="display:none;"></a>
							<div class="map_judge_error_box" id="title_error" style="display:none;">
								<div id="pw_warn_box" class="warn_box" style="visibility: visible;">
									<p id="pw_warn" class="warn"></p><p class="angle"></p>
								</div>
								<a id="" class="map_judge_error"></a>
							</div> 
						</div>
						<div class="m_demand_box clearfix">
							<div id="" class="m_demand_txtarea">
								<textarea name="desc" id="desc" placeholder="请在这里补充细节：例如受众、传播渠道、设计主题、设计风格、文案、必备要素等，让设计师明确get到你的需求"  onblur=""></textarea>
							</div>
							<a class="map_judge_right" id="desc_right" style="display:none;"></a>
							<div class="map_judge_error_box" id="desc_error" style="display:none;">
								<div id="pw_warn_box" class="warn_box" style="visibility: visible;">
									<p id="pw_warn" class="warn"></p><p class="angle"></p>
								</div>
								<a id="" class="map_judge_error"></a>
							</div>
						</div>
						<div class="m_demand_box clearfix" style="margin-bottom:10px;">
							<div class="clearfix">
								<label for="user_name" class="m_upload_title m_demand_title2">选择尺寸：</label>
								<div class="m_demand_detail1 fl">
									<a href="javascript:;" id="selAll" onClick="selSize(1);">全部选择</a>
									<a href="javascript:;" id="cancelAll" style="display:none;" onClick="selSize(0);">全部取消</a>
									<span>尺寸为：长 X 宽  单位：px</span>
                                    <span id="scoreNotice">您拥有<b id="scoreTotal" class="scoreTotal"></b>积分，<span id="showScoreRule" class="m_s_buy_part4">查看积分获取方法</span></span>
                                    
								</div>
								<a class="map_judge_right" id="size_right" style="display:none;"></a>
								<div class="map_judge_error_box" id="size_error" style="display:none;">
									<div id="pw_warn_box" class="warn_box" style="visibility: visible;">
										<p id="pw_warn" class="warn"></p><p class="angle"></p>
									</div>
									<a id="" class="map_judge_error"></a>
								</div>
							</div>
							<div id="sizeList" class="m_demand_size clearfix">
                            <foreach name='sizeList' item='i'>
                            	<a size_id="{$i.id}" price="{$i.price}">{$i.size_name}</a>
                            </foreach>
							</div>
						</div>
						<div class="m_demand_box clearfix" style="margin-bottom:20px;">
							<div class="clearfix">
								<label for="" class="m_upload_title m_demand_title3">上传素材：</label>
								<div class="clearfix fl">
									<div class="m_demand_detail2 fl">
										<a href="javascript:;" id="file_upload">上传素材</a>
									</div>
									<span class="m_demand_detail2_span1">多个素材请打包上传</span>
								</div>
								<a class="map_judge_right" id="title_right_tips" style="display:none;"></a>
								<div class="map_judge_error_box" id="title_error_tips" style="display:none;">
									<div id="pw_warn_box" class="warn_box" style="visibility: visible;">
										<p id="pw_warn" class="warn"></p><p class="angle"></p>
									</div>
									<a id="" class="map_judge_error"></a>
								</div>
							</div>
                            <div id="resultMsg" style="display:none;">
                            	<span></span>
                            	<a href="javascript:void(0);" style="vertical-align:middle;padding:2px 0 0 10px;display:inline-block;">
                            		<img src="__PUBLIC__/images/stylist/trash.png" title="删除素材">
                            	</a>
                            </div>
                            <input type="hidden" name="result" id="result" >
						</div>
						<div class="m_demand_box clearfix" style="padding-right:20px;">	
							<label for="" class="m_upload_title" style="text-align:left;font-size:14px;">悬赏积分：</label>						
							<div id="" class="m_demand_input2">
								<input name="score" id="score"  type="text" />
                                <input type="hidden" name="size_id" id="size_id">
							</div>
							<span class="m_demand_span1 fl">最低需悬赏<b id="priceCount">0</b>积分，高积分会让设计师灵感大开。<a target="_blank" href="{$usercenter}/Login/Public/scoreRule" class="m_s_buy_part4" style="display:none;">查看积分获取方法</a></span>
                            
							<a class="map_judge_right" id="score_right" style="display:none;"></a>
							<div class="map_judge_error_box" id="score_error" style="display:none;">
								<div id="pw_warn_box" class="warn_box" style="visibility: visible;">
									<p id="pw_warn" class="warn"></p><p class="angle"></p>
								</div>
								<a id="" class="map_judge_error"></a>
							</div> 
						</div>
					</div>
					<div class="m_stylist_buy_btn m_demand_btn1 clearfix">
						<a class="fr" href="javascript:;" id="subBtn">提交</a>
					</div>
				</form>
			</div>
			<div class="m_upload_down_r fr">
				<div class="m_upload_down_r_title m_upload_down_r_title2 clearfix">最新作品<a class="fr" target="_blank" href="__APP__/Stylist/productionWall">查看全部</a></div>
				<div class="m_upload_down_list">
					<ul>
                    	<foreach name="proList" item="i">
                        	<li class="clearfix"><a class="fl" href="{$i.url}" target="_blank">{$i.tit}</a><span><i>{$i.likes}</i>赞</span></li>
                        </foreach>
					</ul>
				</div>
			</div>
		</div>      
	</div>
    
<script>
var userScore = {$score}; //用户总积分
var usercenter = '{$usercenter}';
$(function(){
	
	//实时获取用户积分数据
	$.ajax({
		url:'__APP__/Stylist/ajaxGetUserScore',
		type:'post',
		dataType:'json',
		success:function(data){
			userScore = data;
			$("#scoreTotal").html(userScore);
		}
	});
	
	$("#showScoreRule").click(function(){
		window.open(usercenter+'/Login/Public/scoreRule');	
	});
});

//alert(userScore);
var reg = /^[1-9][0-9]*$/;
$("#score").blur(function(){
	var val = $(this).val();
	
	if(val!='' && !reg.test(val)){
		showError('score','悬赏积分请填写整数');
		$("#score").focus();
		$(this).val('');
		return;
	}
	var price = 0;
	var len = $("#sizeList a.choose").length;
	$("#sizeList a.choose").each(function(index, element) {
		price = price + parseInt($(this).attr('price'));
    });
	if (val=='' && len){
		showError('score','请填写悬赏积分！');
	}else if(val < price){
		showError('score','该尺寸广告的总价值为'+price+'。不要太吝啬哦~');
	}else if(userScore < val){
		showError('score','你只剩'+userScore+'个积分，不够了啊……');
	}else if(len){
		showRight('score');
	}
});

$("#score").keyup(function(){
	var val = $(this).val();
	if(!reg.test(val)){ 
		$(this).val('');
	}
});

$("#title").blur(function(){
	var val = $(this).val();
	if(val==''){
		showError('title','请填写需求标题');
	}else{
		showRight('title');	
	}
});

$("#desc").blur(function(){
	var val = $(this).val();
	if(val==''){
		showError('desc','请填写需求细节');
	}else{
		showRight('desc');	
	}
});

function selSize(type){
	var price = 0;
	$("#sizeList a").each(function(index, element) {
		if (type){
			if (!$(this).hasClass('choose')){
				$(this).addClass('choose');
			}
			price = price + parseInt($(this).attr('price'));
		}else{
			$(this).removeClass('choose');
		}
	});
	$("#priceCount").html(price);
	
	
	if (type){
		$("#cancelAll").show();
		$("#selAll").hide();
		if (price > userScore){
			showError('size','您所选尺寸的广告总价值为'+price+'，大于您的积分数！');
		}else{
			showRight('size');
		}
	}else{
		$("#cancelAll").hide();
		$("#selAll").show();
		showError('size','请至少选择一种尺寸！');
		$("#score_error").hide();
		$("#score_right").hide();
	}
	
}

function showError(tar, msg){
	$("#"+tar+"_error").find(".warn").html(msg);
	$("#"+tar+"_error").show();
	$("#"+tar+"_right").hide();
}

function showRight(tar){
	$("#"+tar+"_error").hide();
	$("#"+tar+"_right").show();
}
var isSub = false;
//提交
$("#subBtn").click(function(){
	if (isSub){ //防止重复提交
		return false;
	}
	var flag = true;
	var msg = '';
	var title = $("#title").val();
	var desc = $("#desc").val();
	var sizeLen = $("#sizeList a.choose").length;
	var score = $("#score").val();
	var price = 0;
	var size = '';
	$("#sizeList a.choose").each(function(index, element) {
		price = price + parseInt($(this).attr('price'));
		size += $(this).attr('size_id')+',';
    });
	$("#size_id").val(size);

	if (!title){
		showError('title','请填写需求标题！');
		flag = false;
	}else{
		showRight('title');	
	}
	
	if (!desc){
		showError('desc','请填写需求细节！');
		flag = false;
	}else{
		showRight('desc');
	}
	
	if (!sizeLen){
		showError('size','请至少选择一种尺寸！');
		$("#score_error").hide();
		$("#score_right").hide();
		flag = false;
	}else{
		
		if (price > userScore){
			showError('size','您所选尺寸的广告总价值为'+price+'，大于您的积分数！');
			flag = false;
		}else{
			showRight('size');
		}
		if(score==''){
			showError('score','请填写悬赏积分！');
			flag = false;	
		}else if(score < price){
			showError('score','该尺寸广告的总价值为'+price+'。不要太吝啬哦~');
			flag = false;
		}else if(userScore < score){
			showError('score','您的总积分为'+userScore+'，悬赏积分不能大于您的积分总数！');
			flag = false;
		}else{
			showRight('score');
		}
	}
		
	if (flag == false){
		return false;	
	}
	
	$("#subBtn").html('提交中…');
	isSub = true;
	
	$("#demandForm").submit();
		
});

//弹窗
function dialogs(title,content,time){
	var time = time || 2;
	var title = title || '提示信息';
	var content = content || '操作成功';
	art.dialog({
		title:title,
		drag:false,
		time:time,
		lock:true,
		content:content
	})	
}

$("#sizeList a").click(function(){
	var price = 0;
	if ($(this).hasClass('choose')){
		$(this).removeClass('choose');
	}else{
		$(this).addClass('choose');
	}
	$("#sizeList a.choose").each(function(index, element) {
		price = price + parseInt($(this).attr('price'));
    });
	
	$("#priceCount").html(price);
	var len = $("#sizeList a.choose").length;
	if (len){
		if (price > userScore){
			showError('size','您所选尺寸的广告总价值为'+price+'，大于您的积分数！');
			$("#score_error").hide();
			$("#score_right").hide();
		}else{
			showRight('size');
		}
	}else{
		showError('size','请至少选择一种尺寸！');
		$("#score_error").hide();
		$("#score_right").hide();
	}
});


$(document).ready(function() {
		$("#resultMsg a").click(function(){
			$("#resultMsg").hide();
			$("#title_right_tips").hide();
			$("#result").val('');
		});
		
        $('#file_upload').uploadify({
            'uploader'     : '__PUBLIC__/js/uploadify/uploadify.swf',
            'script'       : '__APP__/Home/Public/uploadFile/',
            'scriptData'   : { 'folderName': 'demand'},
            'cancelImg'    : '__PUBLIC__/images/cancel_up.png',
            'folder'       : '__PUBLIC__/upload/demand',
            'auto'         : true,
            'multi'        : false,
			'sizeLimit'	   : '10000000',
            'fileDesc'     : "请选择jpg,gif,png,jpeg图片类型",
            'fileExt'      : '*.jpg;*.gif;*.png;*.jpeg;*.psd;*.ara;*.zip;*.tar',
            'method'       : "POST",
            'buttonImg'    : '__PUBLIC__/images/stylist/stylist_pic21.png',
            'buttonText'   : '上传相关文件',
            'fileDataName' : "file",
			'onSelect' : function(event,ID,fileObj) {
				if(fileObj.size>10000000){
					alert("文件"+fileObj.name+"大于10M,超过最大上传限制.")
					return false;
				}
			},
            'onComplete':function(event,queueId,fileObj,response,data){
				resObj = jQuery.parseJSON(response); 
				
                if(resObj.status==0){
					$("#title_right_tips").hide();
					$("#title_error_tips .warn").text(resObj.msg);
					$("#title_error_tips").show();
                }else{
					$("#title_error_tips").hide();
					$("#title_right_tips").show();
					$("#result").val(resObj.msg);
					//var img = '<a href="javascript:void(0);"><img src="__PUBLIC__/images/stylist/trash.png"></a>';
					$("#resultMsg span").html('素材已上传：'+fileObj.name);
					$("#resultMsg").show();
					
                }
            }
        });
    });
</script>    

<include file="Public:footer2" />
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  