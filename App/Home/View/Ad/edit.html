<include file="UserCenter:header" />
<include file="UserCenter:top" />
<script type="text/javascript" src="__PUBLIC__/js/jquery.js"></script>
<script type="text/javascript" src="__PUBLIC__/js/uploadify/jquery.uploadify.v2.1.4.min.js"></script>
<script type="text/javascript" src="__PUBLIC__/js/uploadify/swfobject.js"></script>
<link href="__PUBLIC__/js/uploadify/uploadify.css" rel="stylesheet" type="text/css">

<script type="text/javascript" src="__PUBLIC__/js/calendar/calendar.js"></script>
<script type="text/javascript" src="__PUBLIC__/js/calendar/calendar-setup.js"></script>
<script type="text/javascript" src="__PUBLIC__/js/calendar/calendar-zh.js"></script>
<script type="text/javascript" src="__PUBLIC__/js/artDialog/artDialog.js?skin=default"></script>
<link href="__PUBLIC__/js/calendar/calendar.css?v=2" rel="stylesheet" type="text/css">
<style>
#info{padding:0;}




</style>
<script>
    $(document).ready(function() {
        $('#file_upload').uploadify({
            'uploader'  : '__PUBLIC__/js/uploadify/uploadify.swf',
            'script'    : '__APP__/Admin/Public/uploadLogo/',
            'scriptData': { 'folderName': 'Ad'},
            'cancelImg' : '__PUBLIC__/js/uploadify/cancel.png',
            'folder'    : '__PUBLIC__/upload/Ad',
            'auto'      : true,
            'fileDesc' : "请选择jpg,gif,png,jpeg图片类型",
            'fileExt'  : '*.jpg;*.gif;*.png;*.jpeg',
            'method'   : "POST",
            'buttonImg'   : '__PUBLIC__/js/uploadify/select.png',
            'fileDataName'   : "adPic",
            'onComplete':function(event,queueId,fileObj,response,data){
                if(response==0){
                    art.dialog({
                        title: '提示',
                        time: 2,
                        icon: 'warning',
                        content: '上传失败，请重试'
                    }).lock();
                }else{
                    var img = new Image();
                    img.src = response;
                    img.onload = function(){
                        var size_id = $("select[name='size_id'] option:selected").val();
                        $.get('__APP__/Home/Ad/getSizeId', {id: size_id}, function(data){
						
                            if(data){
                                var sizeobj = eval('(' + data + ')');
                                var imgSize = img.width + ' x ' + img.height;
                                if (sizeobj.width != img.width || sizeobj.height != img.height){
                                    art.dialog({
                                        title: '提示',
                                        time: 2,
                                        icon: 'warning',
                                        content: '您上传的图片尺寸：' + imgSize + '，与您所选广告尺寸不符合！'
                                    }).lock();
                                }else{
                                    if(img.width > 600){
                                        img.width = img.width/1.5;
                                        img.height = img.height/1.5;
                                    }
                                    var pic ='<li id="uploadPic"><img style="margin-top:10px; width: ' + img.width + 'px; height: ' + img.height + 'px " src="' + img.src + '" id="thumbpic" align="absmiddle" alt="缩略图"/>' +
                                            '<span style=" vertical-align:top;">' +
                                            '<a href="javascript:void(0);" onclick="delPic(this);">' +
                                            '<img style="margin-top:10px;" src="__PUBLIC__/js/uploadify/cancel.png" title="删除图像"/>' +
                                            '</a>' +
                                            '<span id="imgSize"></span>'+
                                            '</span> <input type="hidden" name="pic" value="' + response + '"/></li>';
                                    $('#is_upload').val('1');
                                    $('#examplePic').hide();
                                    if($('#pic').children('li').length == 2){
                                        $('#pic').find("li:last").remove();
                                    }
                                    $('#pic').append(pic);
                                    verifyPic();
                                }
                            }
                        })
                    }
                }
            }
        });
    });
</script>
<div class="page" id="info">
    <div class="page-container">
        <div class="container">
            <div class="row">
                <include file="UserCenter:left" />
                <div class="span9">
                    <div>
                        <h4 class="header">修改我的公益广告<a href="__APP__/Ad" data-toggle="modal" style="margin-top:-10px;" class="btn pull-right">返回列表</a>
                        </h4>

                        <div style="min-height:500px; margin-top:30px;">
                            <form class="form-horizontal" action="__APP__/Home/Ad/saveEdit" method="post" name="adForm">
                            <input type="hidden" name="id" value="{$adInfo.id}"/>
                            <div class="control-group">
                                <label class="control-label">广告名称：</label>
                                <div class="controls">
                                    <input id="title" type="text" placeholder="" name="title" value="{$adInfo.title}"  onblur="verifyTitle()"/>
                                    <!--提示-->
                                    <span style="cursor:pointer; margin-left: 8px"><a id="tt" href="#" tips="好名字，方便度娘抓取关键字">
                                        <img src="__PUBLIC__/images/doubt.png" width="19" height="19" border="0" /></a>
                                    </span>
                                    <!--提示-->
                                </div>
                            </div>

                            <div class="control-group">
                                <label class="control-label">链接地址：</label>
                                <div class="controls">
                                    <input id="url" type="text" placeholder="" name="url" value="{$adInfo.url}"
                                           onblur="verifyUrl()"/>
                                    <!--提示-->
                                    <span style="cursor:pointer; margin-left: 8px"><a id="tt" href="#" tips="即点击广告后跳转至的网页地址，不要忘记http:// 哦~">
                                        <img src="__PUBLIC__/images/doubt.png" width="19" height="19" border="0" /></a>
                                    </span>
                                    <!--提示-->
                                </div>

                            </div>

                            <div class="control-group">
                                <label class="control-label">展现日期：</label>

                                <div class="controls">
                                    <div>
                                        <input name="start_date" id="start_date" type="text" value="{$adInfo['start_date']}" placeholder="展现开始日期" class="input_box4" onclick="return showCalendar('start_date', 'y-mm-dd');">
                                    </div>
                                    <div style="margin-top:20px;">
                                        <input name="end_date" id="end_date" type="text" class="input_box4" value="{$adInfo['end_date']}" placeholder="展现结束日期" onclick="return showCalendar('end_date', 'y-mm-dd');" />

                                    </div>
                                </div>
                            </div>

                            <div class="control-group">
                                <label for="" class="control-label">关键字：</label>
                                <div class="controls">
                                    <input type="text" style="" name="keywords" class="input_box3" id="keywords" value="{$adInfo.keywords}" onfocus="showDiv('#sysKeywords');"/>
                                    <!--提示-->
                                    <span style="cursor:pointer; margin-left: 8px"><a id="tt" href="#" tips="请为该广告分类，概括准确的关键字能使广告投放渠道更精准">
                                        <img src="__PUBLIC__/images/doubt.png" width="19" height="19" border="0" /></a>
                                    </span>
                                    <!--提示-->
                                </div>
                            </div>

                            <div class="control-group" style="display:none;" id="sysKeywords">
                                <label for="" class="control-label"></label>
                                <div class="controls">
                                    <div>
                                        <h5>热门关键字：（也可手动输入自定义关键字，多个关键字用逗号隔开）</h5>
                                        <div class="Keyword" >
                                            <volist name="categoryList" id="vo">
                                                <a href="javascript:void(0);" onclick="intoInput('{$vo.category_name}');"><div class="bqtou">{$vo.category_name}</div></a>
                                            </volist>

                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="control-group">
                                <label for="" class="control-label">展现区域：</label>
                                <div class="controls">
                                    <label class="radio" style="display: inline-block">
                                        <input type="radio" name="areaType" value="all"
                                               <empty name="adInfo.area">checked="checked"</empty>
                                        > 全国
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                    </label>
                                    <label class="radio" style="display: inline-block">
                                        <input type="radio" name="areaType" value="custom"
                                        <notempty name="adInfo.area">checked="checked"</notempty>
                                        > 自定义
                                    </label>
                                    <!--提示-->
                                    <span style="cursor:pointer; margin-left: 75px"><a id="tt" href="#" tips="即希望广告展现在哪些地区的网站中">
                                        <img src="__PUBLIC__/images/doubt.png" width="19" height="19" border="0" /></a>
                                    </span>
                                    <!--提示-->
                                </div>
                            </div>

                            <div class="control-group" style="display:none;" id="area">
                                <label for="" class="control-label"></label>
                                <div class="controls">
                                    <div>
                                        <div class="delivery_area">
                                            <a href="javascript:void(0);" id="selectAll">全选</a>
                                            <a href="javascript:void(0);" id="unSelect">全不选</a>
                                            <a href="javascript:void(0);" id="reverse">反选</a>
                                        </div>
                                        <div class="Keyword" id="areaList">
                                            <volist name="area" id="vo">
                                                <div class="deliveryarea" <php>if(in_array($vo['area_id'],$adInfo['area']))echo 'style="color:red;"';</php> >
                                                <input type="checkbox" <php>if(in_array($vo['area_id'],$adInfo['area']))echo 'checked="checked"';</php> name="area[]" id="" value="{$vo.area_id}">{$vo.title}
                                        </div>
                                        </volist>
                                    </div>
                                    </div>
                                </div>
                            </div>
                            <div class="control-group">
                                <label class="control-label">广告介绍：</label>
                                <div class="controls">
                                    <textarea id="desc" name="desc" onblur="verifyDesc()">{$adInfo.desc}</textarea>
                                    <!--提示-->
                                    <span style="cursor:pointer; margin-left: 8px"><a id="tt" href="#" tips="鼠标移到广告上，会显示广告介绍。尽量写得言简意赅有吸引力哦~">
                                        <img src="__PUBLIC__/images/doubt.png" width="19" height="19" border="0"/></a>
                                    </span>
                                    <!--提示-->
                                </div>
                            </div>

                            <div class="control-group" id="size">
                                <label class="control-label">广告尺寸：</label>
                                <div class="controls">
                                        <!--提示-->
                                        <span style="cursor:pointer; margin-left: 3px">
                                            <a id="tt" href="#"tips="以像素为单位，尺寸差一丁点儿也不会通过哦~"> <img src="__PUBLIC__/images/doubt.png" width="19" height="19" border="0" /></a>
                                        </span>
                                        <!--提示-->
                                    <div class="box1">
                                        <select id="size_id" name="size_id" class="input_box4" onchange="getPicBySizeAjax(this.value)" >
                                            <volist id="vo" name="adSizeList">
                                                <option value="{$vo.id}" <eq name="adInfo.size_id" value="$vo['id']">selected="selected" style="color:red"</eq>>{$vo .size_name}</option>
                                            </volist>
                                        </select>
                                    </div>
                                </div>
                            </div>


                            <div class="control-group">
                                <label class="control-label">广告图片：</label>
                                <a name="picInfo"></a>
                                <div class="controls">
                                    <div>
                                        <div style=" position:absolute; text-align: center; margin-left: 224px">
                                            <span id="img"></span>
                                        </div>
                                        <input type="file" class="uploadimage" value="上传图片" id="file_upload"
                                               style="float: left; margin-left: 100px"/>
                                    </div>
                                    <input type='hidden' value="1" id="is_upload">
                                    <ul id="pic" class="inline">
                                        <li>

                                        </li>
                                    </ul>
                                </div>
                            </div>

                            <div class="control-group">
                                <label class="control-label"></label>
                                <div class="controls">
									<input type='hidden' name='status' value='{$adInfo.status}'>
                                    <button type="button" name="button" class="btn" onclick="run();">确定保存</button>
                                </div>
                            </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    //关键字展示
    function showDiv(obj){
        $(obj).slideDown("fast");
    }

    function intoInput(name){
        var keyword = $('#keywords').val();
        if(keyword == ''){
            $('#keywords').val(name + ',');
        }else{
            $('#keywords').val(keyword + name + ',');
        }
    }

    //区域选择方式切换
    $(document).ready(function () {
        check();
        $(":radio[name='areaType']").click(function(){
            check();
        });
    });

    function check(){
        if ( $(":radio[name='areaType']:checked").val() == 'all' ) {
            $("#area").slideUp("fast");
        }

        if ( $(":radio[name='areaType']:checked").val() == 'custom' ) {
            $("#area").slideDown("fast");
        }
    }

    function initPicHint(){
        $("#img").next().show();
        $("#img_success").hide();
        $("#img_warning").hide();
        $("#img_hint").hide();
    }

    $(function(){
        var id = $("#size_id").val();
        getPicBySizeAjax(id);
    })

    function getPicBySizeAjax(id) {
        initPicHint();
        var sizeId = "{$adInfo.size_id}";
        var theSavePic = "{$adInfo.pic}";

        $.get('__APP__/Home/Ad/getPicSize', {id: id}, function (data) {
            if (data) {
                var obj = eval('(' + data + ')');
                var pic ='<li id="examplePic">'+
                         '<img style="margin-top:10px; width: ' + obj.width + 'px; height: ' + obj.height + 'px;" src="' + obj.pic + '" id="thumbpic" align="absmiddle" alt="缩略图"/>' +
                        '<input type="hidden" name="pic" value="' + obj.pic + '"/>'+
                        '</li>';

                $('#pic').html(pic);
                $('#is_upload').val('');

                if (id == sizeId){
                    if(theSavePic.width > 600){
                        pic.width = theSavePic.width/1.5;
                        pic.height = theSavePic.height/1.5;
                    }
                    var uploadPic ='<li id="uploadPic"><img style="margin-top:10px; width: ' + theSavePic.width + 'px; height: ' + theSavePic.height + 'px;" src="' + theSavePic + '" id="thumbpic" align="absmiddle" alt="缩略图"/>' +
                            '<span style=" vertical-align:top;">' +
                            '<a href="javascript:void(0);" onclick="delPic(this);">' +
                            '<img style="margin-top:10px;" src="__PUBLIC__/js/uploadify/cancel.png" title="删除图像"/>' +
                            '</a>' +
                            '<span id="imgSize"></span>'+
                            '</span><input type="hidden" name="pic" value="' + theSavePic + '"/></li>';
                    $('#pic').append(uploadPic);
                    $('#examplePic').hide();
                    $('#is_upload').val('1');
                }
            }
        });
    }

    $(function () {
        //全选
        $("#selectAll").click(function () {
            $("#areaList").find(":checkbox").attr("checked", true);
        });
        //全不选
        $("#unSelect").click(function () {
            $("#areaList").find(":checkbox").attr("checked", false);
        });
        //反选
        $("#reverse").click(function () {
            $("#areaList").find(":checkbox").each(function () {
                $(this).attr("checked", !$(this).attr("checked"));
            });
        });
    });

    //信息验证提示
    function hint(status, obj, name, info) {
        var hint = '<span class="yanzheng" style="color:red;" id="' + name + '_hint">' + info + '</span>';
        var warning = '<span class="doubt1" id="' + name + '_warning"></span>';
        var success = '<span class="doubt" id="' + name + '_success"></span>';

        $("#" + name + "_success").remove();
        $("#" + name + "_warning").remove();
        $("#" + name + "_hint").remove();
        $(obj).next().hide();

        if (status == 'success') {
            $(obj).parent().append(success);
        } else {
            $(obj).parent().append(warning);
            $(obj).parent().append(hint)
        }
    }

    //验证标题
    function verifyTitle(){
        if ($("#title").val() == '') {
            hint('warning', $("#title"), 'title', '请填写标题！');
            return false;
        } else {
            hint('success', $("#title"), 'title');
            return true;
        }
    }

    //验证url
    function verifyUrl(){
        var strRegex = "^[A-Za-z]+://[A-Za-z0-9-_]+\\.[A-Za-z0-9-_%&\?\/.=]+$";
        var re = new RegExp(strRegex);
        if (!re.test($('#url').val())) {
            hint('warning', $("#url"), 'url', '请填写正确的url,别忘了写“http://”哦！');
            return false;
        } else {
            hint('success', $("#url"), 'url');
            return true;
        }
    }

    //验证描述
    function verifyDesc(){
        if ($("#desc").val().length = 0) {
            hint('warning', $("#desc"), 'desc', '广告介绍不能为空！');
            return false;
        } else if ($("#desc").val().length > 200) {
                hint('warning', $("#desc"), 'desc', '广告介绍请保持在200字以内！');
                return false;
        } else {
            hint('success', $("#desc"), 'desc');
            return true;
        }
    }

    //验证图片
    function verifyPic(){
        if ($("#uploadPic").length <= 0 || $("#is_upload").val() == '') {
            hint('warning', $("#img"), 'img', '请上传广告图片！');
            return false;
        } else {
            hint('success', $("#img"), 'img');
            return true;
        }
    }

    //验证日期
    function verifydate(){
        if($("#start_date").val() && $("#end_date").val()){
            if ( ($("#start_date").val() > $("#end_date").val()) ) {
                hint('warning', $("#end_date"), 'end_date', '展现结束日期不能小于展现开始日期！');
                return false;
            } else {
                hint('success', $("#end_date"), 'end_date');
                return true;
            }
        }else{
            return true;
        }
    }

    function run() {
        if(!verifyTitle()){
            $("#title").focus();
            return false;
        }

        if(!verifyUrl()){
            $("#url").focus();
            return false;
        }

        if(!verifydate()){
            $("#end_date").focus();
            return false;
        }

        if(!verifyDesc()){
            $("#desc").focus();
            return false;
        }

        if(!verifyPic()){
            location.hash="picInfo";
            return false;
        }

        window.onbeforeunload = function () {
        }; // 清空事件
        document.forms.adForm.submit();
    }

    function delPic(obj){
        $(obj).parents('li').remove();
        $('#examplePic').show();
        if ($("#uploadPic").length <= 0) {
            $("#is_upload").val('');
        }
    }


</script>
<include file="UserCenter:foot" />                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  